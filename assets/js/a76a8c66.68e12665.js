"use strict";(self.webpackChunknotes_hub=self.webpackChunknotes_hub||[]).push([[916],{1481:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var n=s(5893),a=s(1151);const r={sidebar_position:4},l="Utils_db",o={id:"tutorial-basics/utils_db",title:"Utils_db",description:"saveuser(userid, firstname, summarylimit=None)",source:"@site/docs/tutorial-basics/utils_db.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/utils_db",permalink:"/NotesHub-Documentation/docs/tutorial-basics/utils_db",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-basics/utils_db.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Utils.py",permalink:"/NotesHub-Documentation/docs/tutorial-basics/utils"}},t={},d=[{value:"save_user(user_id, first_name, summary_limit=None)",id:"save_useruser_id-first_name-summary_limitnone",level:2},{value:"Uso",id:"uso",level:3},{value:"get_summary_limit(user_id)",id:"get_summary_limituser_id",level:2},{value:"Uso",id:"uso-1",level:3},{value:"is_summary_limit_positive(user_id)",id:"is_summary_limit_positiveuser_id",level:2},{value:"Uso",id:"uso-2",level:3},{value:"decrease_summary_limit(user_id)",id:"decrease_summary_limituser_id",level:2},{value:"increment_interactions_count(user_id)",id:"increment_interactions_countuser_id",level:2},{value:"Notas Adicionales:",id:"notas-adicionales",level:2}];function c(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"utils_db",children:"Utils_db"}),"\n",(0,n.jsx)(i.h2,{id:"save_useruser_id-first_name-summary_limitnone",children:"save_user(user_id, first_name, summary_limit=None)"}),"\n",(0,n.jsx)(i.p,{children:"Esta funci\xf3n guarda o actualiza la informaci\xf3n del usuario en la base de datos PostgreSQL."}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Conecta con la base de datos PostgreSQL utilizando los par\xe1metros de conexi\xf3n proporcionados."}),"\n",(0,n.jsx)(i.li,{children:"Intenta insertar un nuevo registro o actualizar uno existente en la tabla users."}),"\n",(0,n.jsx)(i.li,{children:"La actualizaci\xf3n se realiza bas\xe1ndose en el user_id."}),"\n",(0,n.jsx)(i.li,{children:"Si summary_limit se proporciona, actualiza el valor del l\xedmite de res\xfamenes; de lo contrario, usa el valor predeterminado de 2."}),"\n",(0,n.jsx)(i.li,{children:"Confirma la transacci\xf3n y cierra la conexi\xf3n."}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"uso",children:"Uso"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-py",children:'save_user(123456, "John Doe", 5)\n'})}),"\n",(0,n.jsx)(i.h2,{id:"get_summary_limituser_id",children:"get_summary_limit(user_id)"}),"\n",(0,n.jsx)(i.p,{children:"Esta funci\xf3n obtiene el l\xedmite de res\xfamenes permitidos para un usuario espec\xedfico desde la base de datos."}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Conecta con la base de datos PostgreSQL utilizando los par\xe1metros de conexi\xf3n proporcionados."}),"\n",(0,n.jsx)(i.li,{children:"Consulta el l\xedmite de res\xfamenes para el usuario espec\xedfico en la tabla users."}),"\n",(0,n.jsx)(i.li,{children:"Retorna el l\xedmite si se encuentra; de lo contrario, retorna None."}),"\n",(0,n.jsx)(i.li,{children:"Cierra la conexi\xf3n."}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"uso-1",children:"Uso"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-py",children:"limit = get_summary_limit(123456)\n"})}),"\n",(0,n.jsx)(i.h2,{id:"is_summary_limit_positiveuser_id",children:"is_summary_limit_positive(user_id)"}),"\n",(0,n.jsx)(i.p,{children:"Esta funci\xf3n verifica si el l\xedmite de res\xfamenes para un usuario es mayor que cero."}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Conecta con la base de datos PostgreSQL utilizando los par\xe1metros de conexi\xf3n proporcionados."}),"\n",(0,n.jsx)(i.li,{children:"Consulta el l\xedmite de res\xfamenes para el usuario espec\xedfico en la tabla users."}),"\n",(0,n.jsx)(i.li,{children:"Retorna True si el l\xedmite es mayor que cero, False de lo contrario."}),"\n",(0,n.jsx)(i.li,{children:"Cierra la conexi\xf3n."}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"uso-2",children:"Uso"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-py",children:"result = is_summary_limit_positive(123456)\n"})}),"\n",(0,n.jsx)(i.h2,{id:"decrease_summary_limituser_id",children:"decrease_summary_limit(user_id)"}),"\n",(0,n.jsx)(i.p,{children:"Esta funci\xf3n disminuye en 1 el valor del l\xedmite de res\xfamenes para un usuario."}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Conecta con la base de datos PostgreSQL utilizando los par\xe1metros de conexi\xf3n proporcionados."}),"\n",(0,n.jsx)(i.li,{children:"Intenta disminuir en 1 el valor del l\xedmite de res\xfamenes para el usuario en la tabla users."}),"\n",(0,n.jsx)(i.li,{children:"Confirma la transacci\xf3n y cierra la conexi\xf3n."}),"\n"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-py",children:"decrease_summary_limit(123456)\n"})}),"\n",(0,n.jsx)(i.h2,{id:"increment_interactions_countuser_id",children:"increment_interactions_count(user_id)"}),"\n",(0,n.jsx)(i.p,{children:"Esta funci\xf3n incrementa en 1 el valor de interactions_count para un usuario."}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Conecta con la base de datos PostgreSQL utilizando los par\xe1metros de conexi\xf3n proporcionados."}),"\n",(0,n.jsx)(i.li,{children:"Incrementa en 1 el valor de interactions_count para el usuario en la tabla users."}),"\n",(0,n.jsx)(i.li,{children:"Confirma la transacci\xf3n y cierra la conexi\xf3n."}),"\n"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-py",children:"increment_interactions_count(123456)\n"})}),"\n",(0,n.jsx)(i.h2,{id:"notas-adicionales",children:"Notas Adicionales:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Aseg\xfarese de tener instalada la biblioteca psycopg2 para el correcto funcionamiento de estas funciones."}),"\n",(0,n.jsx)(i.li,{children:"Los par\xe1metros de conexi\xf3n a la base de datos se obtienen de las variables de entorno cargadas mediante load_dotenv(). Aseg\xfarese de tener estas variables de entorno configuradas."}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,a.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},1151:(e,i,s)=>{s.d(i,{Z:()=>o,a:()=>l});var n=s(7294);const a={},r=n.createContext(a);function l(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);